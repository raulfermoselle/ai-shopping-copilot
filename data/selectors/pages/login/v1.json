{
  "pageId": "login",
  "version": 1,
  "createdAt": "2026-01-11T00:00:00Z",
  "createdBy": "agent:manual-migration",
  "lastUpdated": "2026-01-11T12:30:00Z",
  "lastUpdatedBy": "agent:playwright-rpa-engineer",
  "notes": "Selectors verified and updated from live page capture on 2026-01-11. Auchan uses OAuth via Salesforce with custom AJAX login.",
  "urlPattern": "^https://(www\\.)?auchan\\.pt|login\\.salesforce\\.com",
  "prerequisites": {
    "requiresAuth": false
  },
  "selectors": {
    "cookieAcceptButton": {
      "description": "Cookie consent accept button (OneTrust banner)",
      "elementType": "button",
      "primary": "#onetrust-accept-btn-handler",
      "fallbacks": [
        "[data-testid=\"cookie-accept\"]",
        ".cookie-accept"
      ],
      "strategy": "css-id",
      "stabilityScore": 85,
      "behaviorNotes": "OneTrust banner appears on first visit; may not appear if cookies already set"
    },
    "notificationDismiss": {
      "description": "OneSignal notification subscription popup dismiss button",
      "elementType": "button",
      "primary": "#onesignal-slidedown-cancel-button",
      "fallbacks": [
        "button:has-text(\"Não\")",
        "button:has-text(\"Fechar\")"
      ],
      "strategy": "css-id",
      "stabilityScore": 80,
      "behaviorNotes": "OneSignal popup appears after cookie consent; click 'Não' to dismiss"
    },
    "accountButton": {
      "description": "Account/Login button in header",
      "elementType": "link",
      "primary": ".auc-header-account a[href*=\"Login-OAuthLogin\"]",
      "fallbacks": [
        ".auc-header-account a:has-text(\"Login\")"
      ],
      "strategy": "css-class",
      "stabilityScore": 75,
      "behaviorNotes": "Navigates to Salesforce OAuth login page"
    },
    "loginLink": {
      "description": "Direct login link (OAuth redirect)",
      "elementType": "link",
      "primary": "a[href*=\"Login-OAuthLogin\"]",
      "fallbacks": [],
      "strategy": "css-class",
      "stabilityScore": 70,
      "behaviorNotes": "Multiple instances on page; prefer accountButton for header navigation"
    },
    "emailInput": {
      "description": "Email/username input on Salesforce OAuth login form",
      "elementType": "input",
      "primary": "#uname1",
      "fallbacks": [
        "input[type=\"email\"]",
        "input[name=\"uname1\"]",
        "input[name=\"username\"]",
        "input[name=\"email\"]"
      ],
      "strategy": "css-id",
      "stabilityScore": 90,
      "behaviorNotes": "Salesforce OAuth form; ID #uname1 is stable (verified 2026-01-11)"
    },
    "passwordInput": {
      "description": "Password input on login form",
      "elementType": "input",
      "primary": "#pwd1",
      "fallbacks": [
        "input[type=\"password\"]",
        "input[name=\"passwordLogin\"]",
        "input[name=\"password\"]"
      ],
      "strategy": "css-id",
      "stabilityScore": 90,
      "behaviorNotes": "Standard password field; ID #pwd1 is stable (verified 2026-01-11)"
    },
    "submitButton": {
      "description": "Login form submit button",
      "elementType": "input",
      "primary": "#btnSubmit_login",
      "fallbacks": [
        "input[type=\"button\"][value*=\"Aceda\"]",
        "input.btn-success[type=\"button\"]",
        "button:has-text(\"Aceda à sua conta\")",
        "input[type=\"submit\"]"
      ],
      "strategy": "css-id",
      "stabilityScore": 95,
      "behaviorNotes": "Submit button has type='button' not 'submit'; triggers AJAX login via onclick; ID #btnSubmit_login is very stable (verified 2026-01-11)"
    },
    "loggedInIndicator": {
      "description": "Element indicating user is logged in",
      "elementType": "text",
      "primary": ".auc-header__user-name",
      "fallbacks": [
        ".auc-header-account span:not(:has-text(\"Login\"))",
        "[data-testid=\"user-menu\"]"
      ],
      "strategy": "css-class",
      "stabilityScore": 65,
      "behaviorNotes": "Appears in header after login; contains user name"
    },
    "loginError": {
      "description": "Login error message",
      "elementType": "text",
      "primary": ".login-error",
      "fallbacks": [
        ".error-message",
        "[role=\"alert\"]",
        ".slds-form-element__help"
      ],
      "strategy": "css-class",
      "stabilityScore": 60,
      "behaviorNotes": "Appears when login fails; Salesforce may use slds classes"
    }
  }
}
