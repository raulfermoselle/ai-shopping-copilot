{
  "schemaVersion": "1.0.0",
  "page": "cart",
  "version": 2,
  "urlPattern": "^https://(www\\.)?auchan\\.pt/pt/carrinho-compras",
  "lastValidated": "2026-01-14T20:10:00Z",
  "notes": "VERIFIED: Shopping cart page with items. Shows cart products, quantities, prices, and totals. Verified with 03-cart-with-items.html snapshot containing multiple products including unavailable items.",
  "selectors": {
    "cartContainer": {
      "name": "Main cart container",
      "primary": ".auc-cart__container",
      "fallbacks": [
        ".cart.cart-page",
        "main .container"
      ],
      "score": 85,
      "reason": "BEM class naming verified in HTML snapshot",
      "verified": true,
      "notes": "Root container for cart page content"
    },
    "emptyCartIndicator": {
      "name": "Empty cart indicator",
      "primary": ".auc-cart--empty",
      "fallbacks": [
        ".cart-empty",
        ".empty-cart"
      ],
      "score": 85,
      "reason": "BEM modifier for empty state verified",
      "verified": true,
      "notes": "Present when cart has no items. Contains 'Carrinho vazio de momento' text."
    },
    "emptyCartMessage": {
      "name": "Empty cart message text",
      "primary": ".auc-cart--empty__title",
      "fallbacks": [
        ".auc-cart--empty h4",
        "h4:has-text('Carrinho vazio')"
      ],
      "score": 80,
      "reason": "BEM element class verified",
      "verified": true,
      "notes": "Displays 'Carrinho vazio de momento'"
    },
    "productList": {
      "name": "Product list container",
      "primary": ".auc-cart__product-list",
      "fallbacks": [
        ".auc-cart__product-cards"
      ],
      "score": 85,
      "reason": "BEM class verified in snapshot",
      "verified": true,
      "notes": "Container holding all cart product cards"
    },
    "cartItem": {
      "name": "Individual cart item/product card",
      "primary": ".auc-cart__product-cards > div",
      "fallbacks": [
        ".auc-cart__product-information",
        "[data-pid]"
      ],
      "score": 80,
      "reason": "BEM naming verified in snapshot",
      "verified": true,
      "notes": "Each product card in cart. Contains product info, quantity, price."
    },
    "productTitle": {
      "name": "Product name/title",
      "primary": ".auc-cart__product-title",
      "fallbacks": [
        ".line-item-name",
        "a[href*='/produtos/']"
      ],
      "score": 85,
      "reason": "BEM class verified in snapshot",
      "verified": true,
      "notes": "Product name text or link. Also gets .auc-unavailable-name class when unavailable."
    },
    "productLink": {
      "name": "Product detail page link",
      "primary": ".auc-cart__product-title a",
      "fallbacks": [
        ".line-item-name a",
        "a[href*='/produtos/']"
      ],
      "score": 85,
      "reason": "URL pattern verified in snapshot",
      "verified": true,
      "notes": "Link to product detail page. Contains product ID in URL."
    },
    "productImage": {
      "name": "Product image",
      "primary": ".auc-cart__product-image",
      "fallbacks": [
        ".product-image",
        ".item-image img"
      ],
      "score": 85,
      "reason": "BEM class verified in snapshot",
      "verified": true,
      "notes": "Product thumbnail image. Parent gets .auc-unavailable-image when unavailable."
    },
    "quantityContainer": {
      "name": "Quantity selector container",
      "primary": ".auc-cart__line-item-quantity",
      "fallbacks": [
        ".line-item-quantity",
        ".auc-qty-selector__container"
      ],
      "score": 85,
      "reason": "BEM class verified in snapshot",
      "verified": true,
      "notes": "Contains quantity input and +/- buttons"
    },
    "quantityInput": {
      "name": "Quantity input field",
      "primary": "input[name*='quantity']",
      "fallbacks": [
        ".auc-qty-selector__container input",
        "input[type='number']"
      ],
      "score": 80,
      "reason": "Input name pattern verified in snapshot",
      "verified": true,
      "notes": "Numeric input for item quantity"
    },
    "productPrice": {
      "name": "Product line total price",
      "primary": ".auc-cart--price",
      "fallbacks": [
        ".auc-js-cart-item-price",
        ".line-item-total-price-amount"
      ],
      "score": 85,
      "reason": "Class verified in snapshot",
      "verified": true,
      "notes": "Total price for this line item (quantity * unit price)"
    },
    "pricePerUnit": {
      "name": "Price per unit/measure",
      "primary": ".auc-measures--price-per-unit",
      "fallbacks": [
        "[class*='price-per']"
      ],
      "score": 80,
      "reason": "Class verified in snapshot",
      "verified": true,
      "notes": "Shows unit price like '5.89 €/Kg'"
    },
    "unavailableIndicator": {
      "name": "Unavailable product marker",
      "primary": ".auc-unavailable-name",
      "fallbacks": [
        ".auc-unavailable-image",
        ".auc-unavailable-text"
      ],
      "score": 90,
      "reason": "Classes verified in snapshot with actual unavailable items",
      "verified": true,
      "notes": "Applied when product is out of stock. Text element contains 'Produto indisponível'."
    },
    "unavailableText": {
      "name": "Unavailable product message",
      "primary": ".auc-unavailable-text",
      "fallbacks": [
        "p:has-text('indisponível')"
      ],
      "score": 85,
      "reason": "Class verified in snapshot",
      "verified": true,
      "notes": "Contains 'Produto indisponível' text"
    },
    "removeItemButton": {
      "name": "Remove item from cart button",
      "primary": ".auc-cart__remove-product",
      "fallbacks": [
        ".remove-btn-lg.remove-product",
        "button[aria-label*='Remove']"
      ],
      "score": 85,
      "reason": "BEM class verified in snapshot",
      "verified": true,
      "notes": "Removes product from cart. Has data-pid attribute with product ID."
    },
    "totalsCard": {
      "name": "Cart totals card",
      "primary": ".auc-cart__totals-card",
      "fallbacks": [
        ".card[class*='totals']"
      ],
      "score": 85,
      "reason": "BEM class verified in snapshot",
      "verified": true,
      "notes": "Contains subtotal, fees, and grand total"
    },
    "totalsFirstSection": {
      "name": "Totals subtotal section",
      "primary": ".auc-cart__totals-first-section",
      "fallbacks": [],
      "score": 80,
      "reason": "BEM class verified in snapshot",
      "verified": true,
      "notes": "Contains subtotal breakdown"
    },
    "totalsSecondSection": {
      "name": "Totals summary section",
      "primary": ".auc-cart__totals-second-section",
      "fallbacks": [],
      "score": 80,
      "reason": "BEM class verified in snapshot",
      "verified": true,
      "notes": "Contains final totals"
    },
    "checkoutButton": {
      "name": "Proceed to checkout button",
      "primary": ".checkout-btn.auc-button__rounded--primary",
      "fallbacks": [
        ".auc-js-confirm-cart",
        "button.checkout-btn"
      ],
      "score": 85,
      "reason": "Classes verified in snapshot",
      "verified": true,
      "notes": "Proceeds to checkout/delivery slot selection. May be disabled if cart invalid."
    },
    "headerCartTotal": {
      "name": "Header cart total value",
      "primary": ".auc-header-cart-total",
      "fallbacks": [
        ".auc-cart-value__total",
        ".auc-cart-value"
      ],
      "score": 85,
      "reason": "Classes verified in snapshot",
      "verified": true,
      "notes": "Shows cart total in header (e.g., '162,51 €')"
    },
    "headerCartQuantity": {
      "name": "Header cart item count",
      "primary": ".minicart-quantity",
      "fallbacks": [
        ".auc-header__minicart__quantity span"
      ],
      "score": 80,
      "reason": "Classes verified in snapshot",
      "verified": true,
      "notes": "Shows number of items in cart in header"
    },
    "replacementLink": {
      "name": "Replacement suggestion link for unavailable items",
      "primary": ".auc-find-replacement",
      "fallbacks": [
        "a[href*='/alimentacao/']:has-text('Substituir')",
        "a:has-text('Substituir')"
      ],
      "score": 90,
      "reason": "Class verified in 03-cart-with-items.html snapshot with actual unavailable items",
      "verified": true,
      "notes": "Per-item 'Substituir' link for unavailable products. Has data-pid and data-uuid attributes. href points to category page with similar products."
    }
  },
  "navigation": {
    "toCheckout": {
      "description": "Proceed to checkout (delivery slot selection)",
      "action": "click",
      "selector": "checkoutButton",
      "waitFor": "domcontentloaded",
      "expectedUrl": "^https://(www\\.)?auchan\\.pt/pt/(aproveite-ainda|escolher-horario)"
    }
  },
  "extraction": {
    "cartItems": {
      "description": "Extract all items from cart",
      "container": "productList",
      "item": "cartItem",
      "fields": {
        "name": "productTitle (text content)",
        "productUrl": "productLink [href]",
        "quantity": "quantityInput [value] (parse integer)",
        "lineTotal": "productPrice (parse currency)",
        "pricePerUnit": "pricePerUnit (parse currency)",
        "available": "NOT unavailableIndicator (boolean)"
      }
    },
    "cartSummary": {
      "description": "Extract cart summary from header",
      "fields": {
        "total": "headerCartTotal (parse currency)",
        "itemCount": "headerCartQuantity (parse integer)"
      }
    }
  },
  "dataAttributes": {
    "productId": "data-pid on removeItemButton",
    "productUuid": "data-uuid on removeItemButton",
    "removeAction": "data-action on removeItemButton"
  }
}
