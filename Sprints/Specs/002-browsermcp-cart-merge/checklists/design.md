# Checklist: Design - 002-browsermcp-cart-merge

<!--
  Generated by /speckit-plan
  Template: checklist-template.md
  Purpose: Validate implementation plan before task generation
-->

| Field | Value |
|-------|-------|
| Created | 2026-01-18 |
| Feature | 002-browsermcp-cart-merge |
| Type | design |
| Related Docs | [spec.md](../spec.md), [plan.md](../plan.md) |

---

## Instructions

- Mark items complete with `[x]`
- Add inline comments after items if needed
- Reference CHK numbers for tracking
- This checklist integrates with sprint validation

---

## Technical Context Checklist

### Technology Stack
- [x] CHK015: Technology stack documented (BrowserMCP, Chrome, CDP)
- [x] CHK016: Dependencies listed with versions (BrowserMCP via npx)
- [x] CHK017: Project structure defined (runs/, automation/)
- [x] CHK018: Complexity justified where applicable (artifact persistence for autonomy)

### Constitution Alignment
- [x] CHK019: Library-first principle applied (using BrowserMCP, not building from scratch)
- [x] CHK020: Test-first approach confirmed (state capture enables verification)
- [x] CHK021: Simplicity principle followed (Claude Code calls MCP directly, no orchestration layer)
- [x] CHK022: Integration-first testing planned (real browser, real site from day 1)

---

## BrowserMCP Integration Checklist

### Connection Model
- [x] CHK023: MCP server configuration documented
- [x] CHK024: Chrome profile requirements specified
- [x] CHK025: Extension connection model understood (single-tab control)
- [x] CHK026: Capability assumptions documented (navigate, screenshot, click, type, snapshot)

### Failure Modes
- [x] CHK027: Fallback plan documented (Playwright MCP if BrowserMCP fails)
- [x] CHK028: Capability gaps identified as blocking issues
- [x] CHK029: Connection failure handling specified

---

## Workflow Design Checklist

### Navigation Strategy
- [x] CHK030: URL-first navigation preferred
- [x] CHK031: DOM inspection as fallback documented
- [x] CHK032: Selector stability strategy defined (text/aria over CSS)
- [x] CHK033: URL discovery approach documented

### State Verification
- [x] CHK034: capture_state pattern defined
- [x] CHK035: Artifact persistence structure specified
- [x] CHK036: Intelligent diagnosis approach documented (not mechanical retries)

### Safety Guardrails
- [x] CHK037: Checkout button blocker specified
- [x] CHK038: BR001 (never place order) enforced
- [x] CHK039: Review Pack generation documented
- [x] CHK040: Hard stop behavior defined

---

## Sprint Mapping Checklist

### Task Structure
- [x] CHK041: All phases mapped to tasks
- [x] CHK042: Story points estimated (21 total)
- [x] CHK043: Dependencies identified (sequential phases)
- [x] CHK044: Parallelization opportunities noted

### Success Criteria
- [x] CHK045: Phase completion gates defined
- [x] CHK046: Definition of Done specified
- [x] CHK047: Validation approach documented

---

## Checklist Summary

| Category | Total | Complete | Remaining |
|----------|-------|----------|-----------|
| Technical Context | 4 | 4 | 0 |
| Constitution | 4 | 4 | 0 |
| BrowserMCP | 7 | 7 | 0 |
| Workflow | 7 | 7 | 0 |
| Sprint Mapping | 7 | 7 | 0 |
| **Total** | **29** | **29** | **0** |

---

## Review Notes

### Key Design Decisions

1. **Single Sprint**: Revised from 2 sprints to 1 - phases are tightly coupled and benefit from continuous context

2. **No Orchestration Layer**: Claude Code calls MCP tools directly. Simpler, more observable, avoids abstraction overhead.

3. **Artifact-Based Debugging**: Every step produces artifacts that Claude Code can read to debug without human relay. This is the key enabler for autonomous operation.

4. **URL-First Navigation**: Prefer URL patterns over DOM scraping. More stable, more debuggable, matches how humans navigate.

5. **Platform-Driven Merge**: Don't fight auchan.pt's merge UX - follow their prompts (BR006).

**Ready for**: `/speckit-tasks 002-browsermcp-cart-merge`

---

<!-- SPECKIT METADATA - DO NOT EDIT BELOW -->
```yaml
speckit:
  version: "1.0"
  template: "checklist-template"
  type: "design"
  items:
    total: 29
    complete: 29
    technical: 4
    constitution: 4
    browsermcp: 7
    workflow: 7
    sprint: 7
  status: complete
```
